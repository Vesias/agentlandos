# AGENTLAND.SAARLAND - Connectivity Checklist üîå

## üö® GEFUNDENE PROBLEME

### 1. Frontend/Backend API-Verbindungen
- ‚ùå **Fehlende API-Client-Konfiguration**: Kein zentraler API-Client (axios/fetch wrapper)
- ‚ùå **Hardcoded API-URL**: Frontend ruft `/api/saartasks` direkt auf ohne Umgebungsvariablen
- ‚ö†Ô∏è **Inkonsistente API-Pfade**: 
  - Frontend erwartet: `/api/saartasks`
  - Vercel routing: `/api/*` ‚Üí `apps/api/api/*`
  - Lokale FastAPI: `/api/v1/*` oder `/api/*`

### 2. Fehlende Dependencies
- ‚úÖ Frontend-Dependencies vollst√§ndig (Next.js, React, etc.)
- ‚ùå **Backend Python-Dependencies**: 
  - `requirements.txt` enth√§lt nur `httpx` und `asyncio`
  - `pyproject.toml` hat vollst√§ndige Liste, aber Poetry wird f√ºr Vercel nicht genutzt
- ‚ö†Ô∏è **Fehlende Tooltip-Dependency**: `@radix-ui/react-tooltip` wurde manuell hinzugef√ºgt

### 3. Vercel-Deployment-Kompatibilit√§t
- ‚úÖ Vercel-Konfiguration vorhanden (`vercel.json`)
- ‚úÖ Python-Serverless-Functions korrekt strukturiert
- ‚ùå **Python-Dependencies f√ºr Vercel**: Vercel nutzt `requirements.txt`, nicht `pyproject.toml`
- ‚ö†Ô∏è **Datenbank-Verbindung**: PostgreSQL/Redis nur lokal, nicht f√ºr Vercel konfiguriert

### 4. Environment Variables
- ‚úÖ Korrekt definiert in `vercel.json`:
  - `DEEPSEEK_API_KEY`
  - `UPSTASH_REDIS_REST_URL` & Token
  - `PINECONE_API_KEY`
- ‚ùå **Frontend ENV nicht genutzt**: `NEXT_PUBLIC_API_URL` definiert aber nicht verwendet
- ‚ö†Ô∏è **Inkonsistente ENV-Namen**: Backend erwartet andere Redis-URLs

### 5. CORS-Konfiguration
- ‚úÖ Vercel Functions haben CORS-Header (`Access-Control-Allow-Origin: *`)
- ‚úÖ FastAPI hat CORS-Middleware konfiguriert
- ‚ö†Ô∏è **Zu permissive CORS**: `*` erlaubt alle Origins (Sicherheitsrisiko)

## ‚úÖ CHECKLISTE F√úR FUNKTIONIERENDE VERBINDUNGEN

### Sofort-Ma√ünahmen (Critical)
1. **[ ] Update requirements.txt f√ºr Vercel**
   ```txt
   httpx==0.25.0
   pydantic==2.5.3
   python-jose[cryptography]==3.3.0
   ```

2. **[ ] API-Client f√ºr Frontend erstellen**
   ```typescript
   // apps/web/src/lib/api-client.ts
   const API_URL = process.env.NEXT_PUBLIC_API_URL || '/api'
   ```

3. **[ ] Frontend API-Calls anpassen**
   - Ersetze hardcoded `/api/saartasks` mit API-Client
   - Nutze environment-basierte URLs

### Mittelfristige Ma√ünahmen (Important)
4. **[ ] Datenbank-Alternative f√ºr Vercel**
   - Upstash Redis ‚úÖ (bereits konfiguriert)
   - Pinecone Vector DB ‚úÖ (bereits konfiguriert)
   - PostgreSQL ‚Üí Vercel Postgres oder Upstash

5. **[ ] CORS-Sicherheit verbessern**
   ```python
   allowed_origins = [
       "https://agentland.saarland",
       "https://*.vercel.app"
   ]
   ```

6. **[ ] Error Handling verbessern**
   - API-Timeouts implementieren
   - Fallback-Responses bei Fehler
   - User-freundliche Fehlermeldungen

### Langfristige Optimierungen
7. **[ ] API-Versionierung einf√ºhren**
   - `/api/v1/agents/chat`
   - Backward-Compatibility sicherstellen

8. **[ ] Monitoring & Logging**
   - Vercel Analytics aktivieren
   - Error-Tracking (Sentry)
   - API-Performance-Monitoring

9. **[ ] Type-Safety verbessern**
   - Shared Types zwischen Frontend/Backend
   - OpenAPI/Swagger Integration
   - End-to-End Type Checking

## üöÄ DEPLOYMENT-READY CHECKLIST

### Vercel Deployment
- [ ] `requirements.txt` vollst√§ndig
- [ ] Environment Variables in Vercel Dashboard
- [ ] API-Routes testen mit Vercel CLI
- [ ] CORS f√ºr Produktions-Domain

### Lokale Entwicklung
- [ ] Docker-Compose startet erfolgreich
- [ ] Frontend kann Backend erreichen
- [ ] Hot-Reload funktioniert
- [ ] Datenbank-Migrationen laufen

### Production Readiness
- [ ] Secrets rotiert und sicher
- [ ] Rate-Limiting implementiert
- [ ] Health-Checks funktionieren
- [ ] Backup-Strategie definiert

## üìä AKTUELLER STATUS

| Component | Status | Notes |
|-----------|--------|-------|
| Frontend Build | ‚úÖ | Next.js 14 l√§uft |
| Backend Build | ‚ö†Ô∏è | Dependencies fehlen |
| API Connection | ‚ùå | Routing-Probleme |
| Database | ‚ö†Ô∏è | Nur lokal verf√ºgbar |
| Vercel Deploy | ‚ùå | Dependencies & ENV |
| CORS | ‚ö†Ô∏è | Zu permissiv |
| Type Safety | ‚ùå | Keine shared types |

## üîß N√ÑCHSTE SCHRITTE

1. **Priorit√§t 1**: `requirements.txt` f√ºr Vercel vervollst√§ndigen
2. **Priorit√§t 2**: API-Client im Frontend implementieren
3. **Priorit√§t 3**: Environment-Variables konsistent machen
4. **Priorit√§t 4**: CORS-Security versch√§rfen
5. **Priorit√§t 5**: Error-Handling implementieren

---
*Generated by CONNECTOR AGENT - AGENTLAND.SAARLAND*